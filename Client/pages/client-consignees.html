<!-- CLIENT CONSIGNEES MANAGEMENT PAGE -->

<!-- Header Section -->
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 32px;">
    <div>
        <h2 style="margin: 0 0 8px 0; color: #111827;">Consignee Management</h2>
        <p style="margin: 0; color: #6b7280;">Manage your consignee details for quick booking creation</p>
    </div>
    <button id="addConsigneeBtn" style="background: linear-gradient(135deg, #111827 0%, #374151 100%); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer; display: flex; align-items: center; gap: 8px;">
        <span class="material-symbols-outlined" style="font-size: 20px;">add</span>
        Add New Consignee
    </button>
</div>

<!-- Search and Filter Section -->
<div class="card" style="margin-bottom: 24px;">
    <div style="display: grid; grid-template-columns: 1fr auto; gap: 16px; align-items: end;">
        <div>
            <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">Search Consignees</label>
            <input id="searchConsignees" type="text" placeholder="Search by name, city, or phone..." style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
        </div>
        <button id="clearSearchBtn" style="background: transparent; color: #6b7280; border: 2px solid #e5e7eb; padding: 12px 16px; border-radius: 8px; cursor: pointer;">
            <span class="material-symbols-outlined">clear</span>
        </button>
    </div>
</div>

<!-- Consignees Table -->
<div class="card">
    <div style="display: flex; justify-content: between; align-items: center; margin-bottom: 24px;">
        <h3 style="margin: 0; color: #111827;">Consignee Directory</h3>
        <div id="consigneeCount" style="color: #6b7280; font-size: 14px;">0 consignees</div>
    </div>

    <!-- Empty State -->
    <div id="consigneesEmpty" style="text-align: center; padding: 60px; border-radius: 10px; border: 2px dashed #e5e7eb; color: #9ca3af;">
        <span class="material-symbols-outlined" style="font-size: 48px; color: #d1d5db; margin-bottom: 16px;">person_add</span>
        <div style="font-weight: 600; margin-bottom: 8px; color: #6b7280;">No consignees added yet</div>
        <div style="color: #9ca3af; margin-bottom: 16px;">Add consignee details to speed up your booking process</div>
        <button onclick="document.getElementById('addConsigneeBtn').click()" style="background: linear-gradient(135deg, #111827 0%, #374151 100%); color: white; border: none; padding: 10px 20px; border-radius: 6px; font-weight: 500; cursor: pointer;">
            Add First Consignee
        </button>
    </div>

    <!-- Table Wrapper -->
    <div id="consigneesTableWrapper" style="display: none;">
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f9fafb;">
                        <th style="padding: 16px 24px; text-align: left; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb;">Name</th>
                        <th style="padding: 16px 24px; text-align: left; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb;">Address</th>
                        <th style="padding: 16px 24px; text-align: left; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb;">City</th>
                        <th style="padding: 16px 24px; text-align: left; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb;">Phone</th>
                        <th style="padding: 16px 24px; text-align: left; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb;">Email</th>
                        <th style="padding: 16px 24px; text-align: left; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb;">Status</th>
                        <th style="padding: 16px 24px; text-align: center; font-weight: 600; color: #374151; border-bottom: 1px solid #e5e7eb;">Actions</th>
                    </tr>
                </thead>
                <tbody id="consigneesTableBody"></tbody>
            </table>
        </div>
    </div>
</div>

<!-- Add/Edit Consignee Modal -->
<div id="consigneeModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1000; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 90%; max-width: 600px; max-height: 90vh; overflow-y: auto;">
        <!-- Modal Header -->
        <div style="padding: 24px 24px 0 24px; border-bottom: 1px solid #e5e7eb; margin-bottom: 24px;">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <h3 id="modalTitle" style="margin: 0; color: #111827;">Add New Consignee</h3>
                <button id="closeModalBtn" style="background: none; border: none; cursor: pointer; padding: 8px; border-radius: 6px; color: #6b7280;">
                    <span class="material-symbols-outlined">close</span>
                </button>
            </div>
        </div>

        <!-- Modal Body -->
        <div style="padding: 0 24px 24px 24px;">
            <form id="consigneeForm">
                <input type="hidden" id="consigneeId">
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">Consignee Name *</label>
                        <input id="consigneeName" type="text" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>

                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">Contact Person</label>
                        <input id="contactPerson" type="text" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                </div>

                <div class="form-group" style="margin-bottom: 20px;">
                    <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">Address *</label>
                    <textarea id="consigneeAddress" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px; min-height: 80px; resize: vertical;"></textarea>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">City *</label>
                        <input id="consigneeCity" type="text" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>

                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">State</label>
                        <input id="consigneeState" type="text" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px;">
                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">Phone Number *</label>
                        <input id="consigneePhone" type="tel" required style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>

                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">Email</label>
                        <input id="consigneeEmail" type="email" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                </div>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px;">
                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">PIN Code</label>
                        <input id="consigneePincode" type="text" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>

                    <div class="form-group">
                        <label style="display: block; font-weight: 500; color: #374151; margin-bottom: 8px;">GST Number</label>
                        <input id="consigneeGst" type="text" style="width: 100%; padding: 12px 16px; border: 2px solid #e5e7eb; border-radius: 8px; font-size: 16px;">
                    </div>
                </div>

                <!-- Modal Footer -->
                <div style="display: flex; justify-content: flex-end; gap: 12px; padding-top: 24px; border-top: 1px solid #e5e7eb;">
                    <button type="button" id="cancelBtn" style="background: transparent; color: #6b7280; border: 2px solid #e5e7eb; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer;">Cancel</button>
                    <button type="submit" id="saveConsigneeBtn" style="background: linear-gradient(135deg, #111827 0%, #374151 100%); color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer;">Save Consignee</button>
                </div>
            </form>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="deleteModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 1001; align-items: center; justify-content: center;">
    <div style="background: white; border-radius: 12px; width: 90%; max-width: 400px; padding: 24px;">
        <div style="text-align: center; margin-bottom: 24px;">
            <span class="material-symbols-outlined" style="font-size: 48px; color: #dc2626; margin-bottom: 16px;">warning</span>
            <h3 style="margin: 0 0 8px 0; color: #111827;">Delete Consignee</h3>
            <p style="margin: 0; color: #6b7280;">Are you sure you want to delete this consignee? This action cannot be undone.</p>
        </div>
        <div style="display: flex; justify-content: center; gap: 12px;">
            <button id="cancelDeleteBtn" style="background: transparent; color: #6b7280; border: 2px solid #e5e7eb; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer;">Cancel</button>
            <button id="confirmDeleteBtn" style="background: #dc2626; color: white; border: none; padding: 12px 24px; border-radius: 8px; font-weight: 600; cursor: pointer;">Delete</button>
        </div>
    </div>
</div>